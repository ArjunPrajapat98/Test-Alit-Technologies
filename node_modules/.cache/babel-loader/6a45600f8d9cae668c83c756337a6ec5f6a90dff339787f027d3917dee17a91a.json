{"ast":null,"code":"var _jsxFileName = \"/home/abc/Documents/alit-task/my-app/src/App/index.js\",\n  _userDetails$employee4,\n  _userDetails$employee5;\nimport React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\n// import { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport { utils } from \"./helper/utils\";\nimport { getStorage, getUserDetails } from \"./helper/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loggedIn = getStorage(\"logged-in\");\nconst userDetails = getUserDetails();\nconst checkIsViewPermission = () => {\n  var _userDetails$employee;\n  return Object.keys(userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee = userDetails.employee_role) === null || _userDetails$employee === void 0 ? void 0 : _userDetails$employee.app_permissions).filter(item => {\n    var _userDetails$employee2, _userDetails$employee3;\n    return userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee2 = userDetails.employee_role) === null || _userDetails$employee2 === void 0 ? void 0 : (_userDetails$employee3 = _userDetails$employee2.app_permissions[item]) === null || _userDetails$employee3 === void 0 ? void 0 : _userDetails$employee3.view;\n  });\n};\nconst permissions = userDetails !== null && userDetails !== void 0 && (_userDetails$employee4 = userDetails.employee_role) !== null && _userDetails$employee4 !== void 0 && _userDetails$employee4.app_permissions ? utils !== null && utils !== void 0 && utils.isObjectKeyEmpty(userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee5 = userDetails.employee_role) === null || _userDetails$employee5 === void 0 ? void 0 : _userDetails$employee5.app_permissions) ? [\"dashboard\"] : [\"dashboard\", ...checkIsViewPermission()] : [];\nlet list = routerList.filter(item => {\n  if (item !== null && item !== void 0 && item.key && loggedIn) {\n    return (permissions === null || permissions === void 0 ? void 0 : permissions.length) > 0 ? permissions === null || permissions === void 0 ? void 0 : permissions.includes(item === null || item === void 0 ? void 0 : item.key) : true;\n  } else {\n    return true;\n  }\n}).map(route => ({\n  ...route,\n  element: route.private ? /*#__PURE__*/_jsxDEV(ProtectRoutes, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(PublicRoute, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this)\n}));\nexport const routers = createBrowserRouter([{\n  path: \"/\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? \"/dashboard\" : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 14\n  }, this)\n}, ...list,\n// render public and private route\n{\n  path: \"*\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? \"/dashboard\" : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 14\n  }, this)\n}]);\nexport default routers;","map":{"version":3,"names":["React","createBrowserRouter","Navigate","routerList","PublicRoute","ProtectRoutes","utils","getStorage","getUserDetails","jsxDEV","_jsxDEV","loggedIn","userDetails","checkIsViewPermission","_userDetails$employee","Object","keys","employee_role","app_permissions","filter","item","_userDetails$employee2","_userDetails$employee3","view","permissions","_userDetails$employee4","isObjectKeyEmpty","_userDetails$employee5","list","key","length","includes","map","route","element","private","children","fileName","_jsxFileName","lineNumber","columnNumber","routers","path","to"],"sources":["/home/abc/Documents/alit-task/my-app/src/App/index.js"],"sourcesContent":["import React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\n// import { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport { utils } from \"./helper/utils\";\nimport { getStorage, getUserDetails } from \"./helper/storage\";\n\nconst loggedIn = getStorage(\"logged-in\");\nconst userDetails = getUserDetails();\n\nconst checkIsViewPermission = () => {\n  return Object.keys(userDetails?.employee_role?.app_permissions).filter(\n    (item) => userDetails?.employee_role?.app_permissions[item]?.view\n  );\n};\n\nconst permissions = userDetails?.employee_role?.app_permissions\n  ? utils?.isObjectKeyEmpty(userDetails?.employee_role?.app_permissions)\n    ? [\"dashboard\"]\n    : [\"dashboard\", ...checkIsViewPermission()]\n  : [];\n\nlet list = routerList\n  .filter((item) => {\n    if (item?.key && loggedIn) {\n      return permissions?.length > 0 ? permissions?.includes(item?.key) : true;\n    } else {\n      return true;\n    }\n  })\n  .map((route) => ({\n    ...route,\n    element: route.private ? (\n      <ProtectRoutes>\n        <route.element />\n      </ProtectRoutes>\n    ) : (\n      <PublicRoute>\n        <route.element />\n      </PublicRoute>\n    ),\n  }));\nexport const routers = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Navigate to={loggedIn ? \"/dashboard\" : \"/login\"} />,\n  },\n  ...list, // render public and private route\n  {\n    path: \"*\",\n    element: <Navigate to={loggedIn ? \"/dashboard\" : \"/login\"} />,\n  },\n]);\nexport default routers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}