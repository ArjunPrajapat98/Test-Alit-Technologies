{"ast":null,"code":"var _jsxFileName = \"/home/abc/Documents/alit-task/my-app/src/App/index.js\",\n  _userDetails$employee4,\n  _utils,\n  _userDetails$employee5;\nimport React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\nimport { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loggedIn = getStorage('logged-in');\nconst userDetails = getUserDetails();\nconst checkIsViewPermission = () => {\n  var _userDetails$employee;\n  return Object.keys(userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee = userDetails.employee_role) === null || _userDetails$employee === void 0 ? void 0 : _userDetails$employee.app_permissions).filter(item => {\n    var _userDetails$employee2, _userDetails$employee3;\n    return userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee2 = userDetails.employee_role) === null || _userDetails$employee2 === void 0 ? void 0 : (_userDetails$employee3 = _userDetails$employee2.app_permissions[item]) === null || _userDetails$employee3 === void 0 ? void 0 : _userDetails$employee3.view;\n  });\n};\nconst permissions = userDetails !== null && userDetails !== void 0 && (_userDetails$employee4 = userDetails.employee_role) !== null && _userDetails$employee4 !== void 0 && _userDetails$employee4.app_permissions ? (_utils = utils) !== null && _utils !== void 0 && _utils.isObjectKeyEmpty(userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee5 = userDetails.employee_role) === null || _userDetails$employee5 === void 0 ? void 0 : _userDetails$employee5.app_permissions) ? [\"dashboard\"] : [\"dashboard\", ...checkIsViewPermission()] : [];\nlet list = routerList.filter(item => {\n  if (item !== null && item !== void 0 && item.key && loggedIn) {\n    return (permissions === null || permissions === void 0 ? void 0 : permissions.length) > 0 ? permissions === null || permissions === void 0 ? void 0 : permissions.includes(item === null || item === void 0 ? void 0 : item.key) : true;\n  } else {\n    return true;\n  }\n}).map(route => ({\n  ...route,\n  element: route.private ? /*#__PURE__*/_jsxDEV(ProtectRoutes, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 40\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 25\n  }, this) : /*#__PURE__*/_jsxDEV(PublicRoute, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 26\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 13\n  }, this)\n}));\nexport const routers = createBrowserRouter([{\n  path: \"/\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? '/dashboard' : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 13\n  }, this)\n}, ...list,\n// render public and private route\n{\n  path: \"*\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? '/dashboard' : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 13\n  }, this)\n}]);\nexport default routers;","map":{"version":3,"names":["React","createBrowserRouter","Navigate","getStorage","getUserDetails","routerList","PublicRoute","ProtectRoutes","jsxDEV","_jsxDEV","loggedIn","userDetails","checkIsViewPermission","_userDetails$employee","Object","keys","employee_role","app_permissions","filter","item","_userDetails$employee2","_userDetails$employee3","view","permissions","_userDetails$employee4","_utils","utils","isObjectKeyEmpty","_userDetails$employee5","list","key","length","includes","map","route","element","private","children","fileName","_jsxFileName","lineNumber","columnNumber","routers","path","to"],"sources":["/home/abc/Documents/alit-task/my-app/src/App/index.js"],"sourcesContent":["import React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\nimport { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport \"react-quill/dist/quill.snow.css\";\n\nconst loggedIn = getStorage('logged-in')\nconst userDetails = getUserDetails()\n\nconst checkIsViewPermission = () => {\n   return Object.keys(userDetails?.employee_role?.app_permissions).filter(item => userDetails?.employee_role?.app_permissions[item]?.view)\n}\n\nconst permissions = userDetails?.employee_role?.app_permissions\n  ? utils?.isObjectKeyEmpty(userDetails?.employee_role?.app_permissions)\n    ? [\"dashboard\"]\n    : [\"dashboard\", ...checkIsViewPermission()]\n  : [];\n\n  let list = routerList.filter((item) => {\n    if (item?.key && loggedIn) {\n      return permissions?.length > 0 ? permissions?.includes(item?.key) : true;\n    } else {\n      return true;\n    }\n  }).map((route) => ({\n    ...route, element:\n        route.private ? <ProtectRoutes><route.element /></ProtectRoutes> :\n            <PublicRoute><route.element /></PublicRoute>\n}))\nexport const routers = createBrowserRouter([\n    {\n        path: \"/\",\n        element: (\n            <Navigate to={loggedIn ? '/dashboard' : \"/login\"} />\n        ),\n    },\n    ...list, // render public and private route\n    {\n        path: \"*\",\n        element: (\n            <Navigate to={loggedIn ? '/dashboard' : \"/login\"} />\n        ),\n    },\n]);\nexport default routers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}