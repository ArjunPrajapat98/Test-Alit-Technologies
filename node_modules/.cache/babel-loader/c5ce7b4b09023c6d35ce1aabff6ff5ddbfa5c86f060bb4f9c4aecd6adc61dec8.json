{"ast":null,"code":"var _jsxFileName = \"/home/abc/Documents/alit-task/my-app/src/App/components/Login/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { utils } from '../../helper/utils';\nimport { errorSchema } from '../../helper/errorSchema';\nimport { InputField } from '../common/InputField';\nimport { userLogin } from '../../services/authService';\nimport { setStorage } from '../../helper/storage';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formObj = {\n  UserName: '',\n  Password: ''\n};\nexport default function Login() {\n  _s();\n  const [formValue, setFormValue] = useState(formObj);\n  const [formError, setFormError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleOnChange = async (name, value) => {\n    const stateObj = {\n      ...formValue,\n      [name]: value\n    };\n    setFormValue(stateObj);\n    if (!utils.isObjectKeyEmpty(formError)) {\n      const validationResult = await utils.checkFormError(stateObj, errorSchema.loginSchema);\n      if (validationResult === true) {\n        setFormError(\"\");\n      } else {\n        setFormError(validationResult);\n      }\n    }\n  };\n  // UserName=admin&Password=admin@123\n  const handleSubmitClick = async e => {\n    e.preventDefault();\n    const validationResult = await (utils === null || utils === void 0 ? void 0 : utils.checkFormError(formValue, errorSchema.loginSchema));\n    if (utils !== null && utils !== void 0 && utils.isObjectKeyEmpty(validationResult)) {\n      setLoading(true);\n      try {\n        const res = await userLogin(utils.queryString(formValue));\n        if (!!res.authToken) {\n          setStorage(\"logged-in\", res.authToken);\n          navigate(\"/dashboard\");\n          toast.success(`${res === null || res === void 0 ? void 0 : res.message}`);\n          setFormValue('');\n          setLoading(false);\n        } else {\n          setLoading(false);\n          navigate(\"/login\");\n        }\n      } catch (error) {\n        console.log(\"errr\", error);\n      }\n      setFormError(\"\");\n    } else {\n      setFormError(validationResult);\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row m-5 no-gutters shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 d-none d-md-block img_ajn p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://images.unsplash.com/photo-1566888596782-c7f41cc184c5?ixlib=rb-1.2.1&auto=format&fit=crop&w=2134&q=80\",\n            className: \"img-fluid\",\n            style: {\n              minHeight: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 bg-white p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"pb-3\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-style mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group pb-3\",\n                children: /*#__PURE__*/_jsxDEV(InputField, {\n                  label: \"User Name *\",\n                  placeholder: \"User Name\",\n                  name: \"UserName\",\n                  type: \"text\",\n                  value: formValue === null || formValue === void 0 ? void 0 : formValue.UserName,\n                  focus: !!(typeof formError === \"object\" && formError !== null && formError !== void 0 && formError.UserName),\n                  error: !!(typeof formError === \"object\") ? formError === null || formError === void 0 ? void 0 : formError.UserName : \"\",\n                  onChange: ({\n                    target: {\n                      name,\n                      value\n                    }\n                  }) => handleOnChange(name, value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group pb-3\",\n                children: /*#__PURE__*/_jsxDEV(InputField, {\n                  placeholder: \"Password\",\n                  label: \"Password *\",\n                  name: \"Password\",\n                  type: \"Password\",\n                  value: formValue === null || formValue === void 0 ? void 0 : formValue.Password,\n                  focus: !!(typeof formError === \"object\" && formError !== null && formError !== void 0 && formError.Password),\n                  error: !!(typeof formError === \"object\") ? formError === null || formError === void 0 ? void 0 : formError.Password : \"\",\n                  onChange: ({\n                    target: {\n                      name,\n                      value\n                    }\n                  }) => handleOnChange(name, value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSubmitClick,\n                  type: \"submit\",\n                  className: \"btn btn-primary w-100 font-weight-bold mt-2\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"TZvK5jjBkL22rmOzMhPuWgM2HoI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","toast","utils","errorSchema","InputField","userLogin","setStorage","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","formObj","UserName","Password","Login","_s","formValue","setFormValue","formError","setFormError","loading","setLoading","navigate","handleOnChange","name","value","stateObj","isObjectKeyEmpty","validationResult","checkFormError","loginSchema","handleSubmitClick","e","preventDefault","res","queryString","authToken","success","message","error","console","log","children","className","src","style","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","label","placeholder","type","focus","onChange","target","onClick","_c","$RefreshReg$"],"sources":["/home/abc/Documents/alit-task/my-app/src/App/components/Login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { toast } from 'react-toastify';\nimport { utils } from '../../helper/utils';\nimport { errorSchema } from '../../helper/errorSchema';\nimport { InputField } from '../common/InputField';\nimport { userLogin } from '../../services/authService';\nimport { setStorage } from '../../helper/storage';\nimport { useNavigate } from 'react-router-dom';\n\nconst formObj = {\n    UserName: '',\n    Password: '',\n}\n\nexport default function Login() {\n\n    const [formValue, setFormValue] = useState(formObj);\n    const [formError, setFormError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const navigate = useNavigate();\n\n    const handleOnChange = async (name, value) => {\n        const stateObj = { ...formValue, [name]: value };\n        setFormValue(stateObj);\n        if (!utils.isObjectKeyEmpty(formError)) {\n            const validationResult = await utils.checkFormError(stateObj, errorSchema.loginSchema);\n            if (validationResult === true) {\n                setFormError(\"\");\n            } else {\n                setFormError(validationResult);\n            }\n        }\n    };\n    // UserName=admin&Password=admin@123\n    const handleSubmitClick = async (e) => {\n        e.preventDefault();\n\n        const validationResult = await utils?.checkFormError(formValue, errorSchema.loginSchema);\n\n        if (utils?.isObjectKeyEmpty(validationResult)) {\n            setLoading(true);\n            try {\n                const res = await userLogin(utils.queryString(formValue));\n                if (!!res.authToken) {\n                    setStorage(\"logged-in\", res.authToken);\n                    navigate(\"/dashboard\");\n                    toast.success(`${res?.message}`);\n                    setFormValue('');\n                    setLoading(false);\n                } else {\n                    setLoading(false);\n                    navigate(\"/login\");\n                }\n            } catch (error) {\n                console.log(\"errr\", error);\n            }\n            setFormError(\"\");\n        } else {\n            setFormError(validationResult);\n            setLoading(false);\n        }\n    };\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"row m-5 no-gutters shadow-lg\">\n                    <div className=\"col-md-6 d-none d-md-block img_ajn p-5\">\n                        <img\n                            src=\"https://images.unsplash.com/photo-1566888596782-c7f41cc184c5?ixlib=rb-1.2.1&auto=format&fit=crop&w=2134&q=80\"\n                            className=\"img-fluid\"\n                            style={{ minHeight: \"100%\" }}\n                        />\n                    </div>\n                    <div className=\"col-md-6 bg-white p-5\">\n                        <h3 className=\"pb-3\">Login</h3>\n                        <div className=\"form-style mt-5\">\n                            <form>\n                                <div className=\"form-group pb-3\">\n                                    <InputField\n                                        label=\"User Name *\"\n                                        placeholder=\"User Name\"\n                                        name='UserName'\n                                        type='text'\n                                        value={formValue?.UserName}\n                                        focus={!!(typeof formError === \"object\" && formError?.UserName)}\n                                        error={!!(typeof formError === \"object\") ? formError?.UserName : \"\"}\n                                        onChange={({ target: { name, value } }) =>\n                                            handleOnChange(name, value)\n                                        }\n                                    />\n                                </div>\n                                <div className=\"form-group pb-3\">\n                                    <InputField\n                                        placeholder=\"Password\"\n                                        label=\"Password *\"\n                                        name='Password'\n                                        type='Password'\n                                        value={formValue?.Password}\n                                        focus={!!(typeof formError === \"object\" && formError?.Password)}\n                                        error={!!(typeof formError === \"object\") ? formError?.Password : \"\"}\n                                        onChange={({ target: { name, value } }) =>\n                                            handleOnChange(name, value)\n                                        }\n                                    />\n                                </div>\n\n                                <div className=\"pb-2\">\n                                    <button\n                                        onClick={handleSubmitClick}\n                                        type=\"submit\"\n                                        className=\"btn btn-primary w-100 font-weight-bold mt-2\"\n                                    >\n                                        Submit\n                                    </button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}