{"ast":null,"code":"var _jsxFileName = \"/home/abc/Documents/alit-task/my-app/src/App/index.js\";\nimport React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\n// import { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport { utils } from \"./helper/utils\";\nimport { getStorage } from \"./helper/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loggedIn = getStorage('logged-in');\n// const userDetails = getUserDetails()\n\n// const checkIsViewPermission = () => {\n//    return Object.keys(userDetails?.employee_role?.app_permissions).filter(item => userDetails?.employee_role?.app_permissions[item]?.view)\n// }\n\n// const permissions = userDetails?.employee_role?.app_permissions\n//   ? utils?.isObjectKeyEmpty(userDetails?.employee_role?.app_permissions)\n//     ? [\"dashboard\"]\n//     : [\"dashboard\", ...checkIsViewPermission()]\n//   : [];\n\nlet list = routerList.filter(item => {\n  if (item !== null && item !== void 0 && item.key && loggedIn) {\n    var _permissions, _permissions2;\n    return ((_permissions = permissions) === null || _permissions === void 0 ? void 0 : _permissions.length) > 0 ? (_permissions2 = permissions) === null || _permissions2 === void 0 ? void 0 : _permissions2.includes(item === null || item === void 0 ? void 0 : item.key) : true;\n  } else {\n    return true;\n  }\n}).map(route => ({\n  ...route,\n  element: route.private ? /*#__PURE__*/_jsxDEV(ProtectRoutes, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 40\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 25\n  }, this) : /*#__PURE__*/_jsxDEV(PublicRoute, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 26\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 13\n  }, this)\n}));\nexport const routers = createBrowserRouter([{\n  path: \"/\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? '/dashboard' : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 13\n  }, this)\n}, ...list,\n// render public and private route\n{\n  path: \"*\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? '/dashboard' : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 13\n  }, this)\n}]);\nexport default routers;","map":{"version":3,"names":["React","createBrowserRouter","Navigate","routerList","PublicRoute","ProtectRoutes","utils","getStorage","jsxDEV","_jsxDEV","loggedIn","list","filter","item","key","_permissions","_permissions2","permissions","length","includes","map","route","element","private","children","fileName","_jsxFileName","lineNumber","columnNumber","routers","path","to"],"sources":["/home/abc/Documents/alit-task/my-app/src/App/index.js"],"sourcesContent":["import React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\n// import { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport { utils } from \"./helper/utils\";\nimport { getStorage } from \"./helper/storage\";\n\nconst loggedIn = getStorage('logged-in')\n// const userDetails = getUserDetails()\n\n// const checkIsViewPermission = () => {\n//    return Object.keys(userDetails?.employee_role?.app_permissions).filter(item => userDetails?.employee_role?.app_permissions[item]?.view)\n// }\n\n// const permissions = userDetails?.employee_role?.app_permissions\n//   ? utils?.isObjectKeyEmpty(userDetails?.employee_role?.app_permissions)\n//     ? [\"dashboard\"]\n//     : [\"dashboard\", ...checkIsViewPermission()]\n//   : [];\n\n  let list = routerList.filter((item) => {\n    if (item?.key && loggedIn) {\n      return permissions?.length > 0 ? permissions?.includes(item?.key) : true;\n    } else {\n      return true;\n    }\n  }).map((route) => ({\n    ...route, element:\n        route.private ? <ProtectRoutes><route.element /></ProtectRoutes> :\n            <PublicRoute><route.element /></PublicRoute>\n}))\nexport const routers = createBrowserRouter([\n    {\n        path: \"/\",\n        element: (\n            <Navigate to={loggedIn ? '/dashboard' : \"/login\"} />\n        ),\n    },\n    ...list, // render public and private route\n    {\n        path: \"*\",\n        element: (\n            <Navigate to={loggedIn ? '/dashboard' : \"/login\"} />\n        ),\n    },\n]);\nexport default routers;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,mBAAmB,EAAEC,QAAQ,QAAQ,kBAAkB;AAChE;AACA,SAASC,UAAU,EAAEC,WAAW,EAAEC,aAAa,QAAQ,UAAU;AACjE,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,UAAU,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,QAAQ,GAAGH,UAAU,CAAC,WAAW,CAAC;AACxC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEE,IAAII,IAAI,GAAGR,UAAU,CAACS,MAAM,CAAEC,IAAI,IAAK;EACrC,IAAIA,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEC,GAAG,IAAIJ,QAAQ,EAAE;IAAA,IAAAK,YAAA,EAAAC,aAAA;IACzB,OAAO,EAAAD,YAAA,GAAAE,WAAW,cAAAF,YAAA,uBAAXA,YAAA,CAAaG,MAAM,IAAG,CAAC,IAAAF,aAAA,GAAGC,WAAW,cAAAD,aAAA,uBAAXA,aAAA,CAAaG,QAAQ,CAACN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,GAAG,CAAC,GAAG,IAAI;EAC1E,CAAC,MAAM;IACL,OAAO,IAAI;EACb;AACF,CAAC,CAAC,CAACM,GAAG,CAAEC,KAAK,KAAM;EACjB,GAAGA,KAAK;EAAEC,OAAO,EACbD,KAAK,CAACE,OAAO,gBAAGd,OAAA,CAACJ,aAAa;IAAAmB,QAAA,eAACf,OAAA,CAACY,KAAK,CAACC,OAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAe,CAAC,gBAC5DnB,OAAA,CAACL,WAAW;IAAAoB,QAAA,eAACf,OAAA,CAACY,KAAK,CAACC,OAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAa;AACvD,CAAC,CAAC,CAAC;AACH,OAAO,MAAMC,OAAO,GAAG5B,mBAAmB,CAAC,CACvC;EACI6B,IAAI,EAAE,GAAG;EACTR,OAAO,eACHb,OAAA,CAACP,QAAQ;IAAC6B,EAAE,EAAErB,QAAQ,GAAG,YAAY,GAAG;EAAS;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE;AAE3D,CAAC,EACD,GAAGjB,IAAI;AAAE;AACT;EACImB,IAAI,EAAE,GAAG;EACTR,OAAO,eACHb,OAAA,CAACP,QAAQ;IAAC6B,EAAE,EAAErB,QAAQ,GAAG,YAAY,GAAG;EAAS;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE;AAE3D,CAAC,CACJ,CAAC;AACF,eAAeC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}