{"ast":null,"code":"var _jsxFileName = \"/home/abc/Documents/alit-task/my-app/src/App/index.js\",\n  _userDetails$employee4,\n  _userDetails$employee5;\nimport React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\n// import { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport { utils } from \"./helper/utils\";\nimport { getStorage, getUserDetails } from \"./helper/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loggedIn = getStorage('logged-in');\nconst userDetails = getUserDetails();\nconst checkIsViewPermission = () => {\n  var _userDetails$employee;\n  return Object.keys(userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee = userDetails.employee_role) === null || _userDetails$employee === void 0 ? void 0 : _userDetails$employee.app_permissions).filter(item => {\n    var _userDetails$employee2, _userDetails$employee3;\n    return userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee2 = userDetails.employee_role) === null || _userDetails$employee2 === void 0 ? void 0 : (_userDetails$employee3 = _userDetails$employee2.app_permissions[item]) === null || _userDetails$employee3 === void 0 ? void 0 : _userDetails$employee3.view;\n  });\n};\nconst permissions = userDetails !== null && userDetails !== void 0 && (_userDetails$employee4 = userDetails.employee_role) !== null && _userDetails$employee4 !== void 0 && _userDetails$employee4.app_permissions ? utils !== null && utils !== void 0 && utils.isObjectKeyEmpty(userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$employee5 = userDetails.employee_role) === null || _userDetails$employee5 === void 0 ? void 0 : _userDetails$employee5.app_permissions) ? [\"dashboard\"] : [\"dashboard\", ...checkIsViewPermission()] : [];\nlet list = routerList.map(route => ({\n  ...route,\n  element: route.private ? /*#__PURE__*/_jsxDEV(ProtectRoutes, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 40\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 25\n  }, this) : /*#__PURE__*/_jsxDEV(PublicRoute, {\n    children: /*#__PURE__*/_jsxDEV(route.element, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 26\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 13\n  }, this)\n}));\nexport const routers = createBrowserRouter([{\n  path: \"/\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? '/dashboard' : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 13\n  }, this)\n}, ...list, {\n  path: \"*\",\n  element: /*#__PURE__*/_jsxDEV(Navigate, {\n    to: loggedIn ? '/dashboard' : \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 13\n  }, this)\n}]);\nexport default routers;","map":{"version":3,"names":["React","createBrowserRouter","Navigate","routerList","PublicRoute","ProtectRoutes","utils","getStorage","getUserDetails","jsxDEV","_jsxDEV","loggedIn","userDetails","checkIsViewPermission","_userDetails$employee","Object","keys","employee_role","app_permissions","filter","item","_userDetails$employee2","_userDetails$employee3","view","permissions","_userDetails$employee4","isObjectKeyEmpty","_userDetails$employee5","list","map","route","element","private","children","fileName","_jsxFileName","lineNumber","columnNumber","routers","path","to"],"sources":["/home/abc/Documents/alit-task/my-app/src/App/index.js"],"sourcesContent":["import React from \"react\";\nimport { createBrowserRouter, Navigate } from \"react-router-dom\";\n// import { getStorage, getUserDetails } from \"./helper/storage\";\nimport { routerList, PublicRoute, ProtectRoutes } from \"./router\";\nimport { utils } from \"./helper/utils\";\nimport { getStorage, getUserDetails } from \"./helper/storage\";\n\nconst loggedIn = getStorage('logged-in')\nconst userDetails = getUserDetails()\n\nconst checkIsViewPermission = () => {\n   return Object.keys(userDetails?.employee_role?.app_permissions).filter(item => userDetails?.employee_role?.app_permissions[item]?.view)\n}\n\nconst permissions = userDetails?.employee_role?.app_permissions\n  ? utils?.isObjectKeyEmpty(userDetails?.employee_role?.app_permissions)\n    ? [\"dashboard\"]\n    : [\"dashboard\", ...checkIsViewPermission()]\n  : [];\n\n  let list = routerList.map((route) => ({\n    ...route, element:\n        route.private ? <ProtectRoutes><route.element /></ProtectRoutes> :\n            <PublicRoute><route.element /></PublicRoute>\n}))\nexport const routers = createBrowserRouter([\n    {\n        path: \"/\",\n        element: (\n            <Navigate to={loggedIn ? '/dashboard' : \"/login\"} />\n        ),\n    },\n    ...list,\n    {\n        path: \"*\",\n        element: (\n            <Navigate to={loggedIn ? '/dashboard' : \"/login\"} />\n        ),\n    },\n]);\nexport default routers;\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,mBAAmB,EAAEC,QAAQ,QAAQ,kBAAkB;AAChE;AACA,SAASC,UAAU,EAAEC,WAAW,EAAEC,aAAa,QAAQ,UAAU;AACjE,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,UAAU,EAAEC,cAAc,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,QAAQ,GAAGJ,UAAU,CAAC,WAAW,CAAC;AACxC,MAAMK,WAAW,GAAGJ,cAAc,CAAC,CAAC;AAEpC,MAAMK,qBAAqB,GAAGA,CAAA,KAAM;EAAA,IAAAC,qBAAA;EACjC,OAAOC,MAAM,CAACC,IAAI,CAACJ,WAAW,aAAXA,WAAW,wBAAAE,qBAAA,GAAXF,WAAW,CAAEK,aAAa,cAAAH,qBAAA,uBAA1BA,qBAAA,CAA4BI,eAAe,CAAC,CAACC,MAAM,CAACC,IAAI;IAAA,IAAAC,sBAAA,EAAAC,sBAAA;IAAA,OAAIV,WAAW,aAAXA,WAAW,wBAAAS,sBAAA,GAAXT,WAAW,CAAEK,aAAa,cAAAI,sBAAA,wBAAAC,sBAAA,GAA1BD,sBAAA,CAA4BH,eAAe,CAACE,IAAI,CAAC,cAAAE,sBAAA,uBAAjDA,sBAAA,CAAmDC,IAAI;EAAA,EAAC;AAC1I,CAAC;AAED,MAAMC,WAAW,GAAGZ,WAAW,aAAXA,WAAW,gBAAAa,sBAAA,GAAXb,WAAW,CAAEK,aAAa,cAAAQ,sBAAA,eAA1BA,sBAAA,CAA4BP,eAAe,GAC3DZ,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEoB,gBAAgB,CAACd,WAAW,aAAXA,WAAW,wBAAAe,sBAAA,GAAXf,WAAW,CAAEK,aAAa,cAAAU,sBAAA,uBAA1BA,sBAAA,CAA4BT,eAAe,CAAC,GAClE,CAAC,WAAW,CAAC,GACb,CAAC,WAAW,EAAE,GAAGL,qBAAqB,CAAC,CAAC,CAAC,GAC3C,EAAE;AAEJ,IAAIe,IAAI,GAAGzB,UAAU,CAAC0B,GAAG,CAAEC,KAAK,KAAM;EACpC,GAAGA,KAAK;EAAEC,OAAO,EACbD,KAAK,CAACE,OAAO,gBAAGtB,OAAA,CAACL,aAAa;IAAA4B,QAAA,eAACvB,OAAA,CAACoB,KAAK,CAACC,OAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAe,CAAC,gBAC5D3B,OAAA,CAACN,WAAW;IAAA6B,QAAA,eAACvB,OAAA,CAACoB,KAAK,CAACC,OAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAa;AACvD,CAAC,CAAC,CAAC;AACH,OAAO,MAAMC,OAAO,GAAGrC,mBAAmB,CAAC,CACvC;EACIsC,IAAI,EAAE,GAAG;EACTR,OAAO,eACHrB,OAAA,CAACR,QAAQ;IAACsC,EAAE,EAAE7B,QAAQ,GAAG,YAAY,GAAG;EAAS;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE;AAE3D,CAAC,EACD,GAAGT,IAAI,EACP;EACIW,IAAI,EAAE,GAAG;EACTR,OAAO,eACHrB,OAAA,CAACR,QAAQ;IAACsC,EAAE,EAAE7B,QAAQ,GAAG,YAAY,GAAG;EAAS;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE;AAE3D,CAAC,CACJ,CAAC;AACF,eAAeC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}